<script>
  $(document).ready(function () {
	  document.getElementById('demo').innerHTML ='';
    $("#tbodyid").on('click', '.viewbtn', function () { 
     //alert($(this).attr("id"));
      var viewresp = $(this).attr("modaldata");
      console.log(viewresp); 
    
        var resp = JSON.parse(viewresp);
        var vid = resp.id
        alert(vid)
        document.getElementById('demo').innerHTML=vid; 
        $('#myModal').modal('show');
        
    });
   

    $('#tableID').DataTable({
      responsive: true
    });

    fetchInquiries();
    function fetchInquiries() {
      var tbodyHtml = "";
      commongetmethod("http://203.176.113.183/VendorAppServices//divisional/getVendors").then((response) => {
       /*  console.log(JSON.stringify(response)); */

        for (i = 0; i < response.length; i++) {
          tbodyHtml += "<tr>"
          tbodyHtml += "<td>" + response[i].organisationName + " </td>" +
            "<td>" + response[i].contactNo + " </td>" +
            "<td>" + response[i].email + " </td>" +
            "<td>" + response[i].vendorConstitutionName + " </td>" +
            "<td>" + "<button type='button'  class='btn btn-secondary viewbtn' modaldata='" + JSON.stringify(response[i]) + "' >View</button>" + " </td>" +
            "<td class='d-none'>" + response[i].psgnName + " </td></tr>";

        }
        $("#tbodyid").html(tbodyHtml);
      })
        .fail((xhr, status) => {
          if (xhr.status == "401") {
            refreshToken().then((res) => {
              console.log(res);
              setSessionStorageItems(res);
              fetchInquiries();
            });
          }
        });

    }

  });


</script>
<div class="container">
  <div class="row">
    <div class="col">
      <table id="tableID" class="display hover" style="width:100%">
        <thead>
          <tr>
            <th>vendorConstitutionName</th>
            <th>Contact No</th>

            <th>Email</th>
            <th>VendorCategory</th>
            <th>Action</th>
          </tr>
        </thead>
        <tfoot>
          <tr>
            <th>vendorConstitutionName</th>
            <th>Contact No</th>
            <th>Email</th>
            <th>VendorCategory</th>
            <th>Action</th>
          </tr>
        </tfoot>
        <tbody id="tbodyid">


        </tbody>

      </table>
    </div>
  </div>
</div>
<div class="modal  fade" id="myModal" data-bs-backdrop="static">
  <div class="modal-dialog modal-dialog-centered modal-xl modal-dialog-scrollable">
    <div class="modal-content">

      <!-- Modal Header -->
      <div class="modal-header text-center">
        <h4 class="modal-title"></h4>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>

      <!-- Modal body -->
      <div class="modal-body" id="modal-body">
        <div class="container-fluid text-center ">
        <div class="text-center bg-danger text-white mt-2"><h4 class="blockquote">VendorDetails</h4></div>
          <div class="row ">
            <div class="col-md-3 border">
              Id:  <p id="demo"></p>
            </div>
            <div class="col-md-3 border ">
              OrangisationName
            </div>
            <div class="col-md-3 border">
              VendorPan
            </div>
            <div class="col-md-3 border">
              VendorHSNCode
            </div>

          </div>
          <div class="row ">
            <div class="col-md-3 border">
              GoodsDetail
            </div>
            <div class="col-md-3 border">
              Address
            </div>
            <div class="col-md-3 border">
              ContactNo
            </div>
            <div class="col-md-3 border">
              Email:<p id="demo1"></p>
            </div>

          </div>
          <div class="row  ">
            <div class="col-md-3 border ">
              Alternate-Contact
            </div>
            <div class="col-md-3 border ">
              Alternate-Email
            </div>
            <div class="col-md-3 border">
              GSTIN
            </div>
            <div class="col-md-3 border">
              UPID
            </div>

          </div>
          <div class="row ">
            <div class="col-md-3 border">
              BankName
            </div>
            <div class="col-md-3 border">
              BankBranch
            </div>
            <div class="col-md-3 border">
              Bank-Account
            </div>
            <div class="col-md-3 border">
              Bank-IFSC
            </div>

          </div>
          <div class="row ">
            <div class="col-md-3 border">
              VendorCategory
            </div>
            <div class="col-md-3 border">
              VendorConstitution
            </div>
            <div class="col-md-3 border">
              Train
            </div>
            <div class="col-md-3 border">
            
            </div>

          </div>
        


        </div>



      </div>

      <!-- Modal footer -->
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Close</button>
      </div>

    </div>
  </div>
</div>