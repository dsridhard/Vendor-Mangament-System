
<script>
$(document).ready(function() {
    var row_id = 0;
    $('#tableID').DataTable({
    	 responsive: true,
    }); 
  fetchInquiries();
    function fetchInquiries(){
        var tbodyHtml="";
     commongetmethod("http://203.176.113.183/VendorAppServices//divisional/getVendors").then((response)=>{
             console.log(JSON.stringify(response));
             for(i=0;i<response.length;i++){
            	 row_id ++; 
            	 tbodyHtml+="<tr id='"+row_id+"'>"
                 tbodyHtml+="<td>"+row_id+"</td>"+
                 "<td class='gfgusername'>"+response[i].organisationName+" </td>"+
                 "<td class='gfgpp'>"+response[i].contactNo+" </td>"+
                 "<td class='gfgscores'>"+response[i].email+" </td>"+
                 "<td class='gfgarticles'>"+response[i].vendorConstitutionName+" </td>"+
                 "<td >"+'<button type="button" id="'+row_id+'"  class="btn btn-secondary vbtn" data-bs-toggle="modal" data-bs-target="#myModal">View</button>'+" </td>"+
                 "</tr>";
             }
    	 $("#tbodyid").html(tbodyHtml);
         })
         .fail((xhr,status)=>{
        	 if(xhr.status=="401"){
         		  refreshToken().then((res) => {
         	        	console.log(res);
         	        	setSessionStorageItems(res);
         	        	fetchInquiries();
         	           });
         		  }
             });
    	
    }
    
    
    $(".vbtn").click(function () {
    	 var a =
             $(this).parents("tr").find(".gfgusername").text();
    	     var c =
             $(this).parents("tr").find(".gfgpp").text();
             var d =
             $(this).parents("tr").find(".gfgscores").text();
             var e = 
             $(this).parents("tr").find(".gfgarticles").text();
    	
    	
    })
    
});

</script>
<div class="container">
<div class="row">
  <div class="col">
   <table id="tableID" class="display hover" style="width:100%">
<thead>
    <tr> 
        <th>#</th>
        <th>Name</th>
        <th>Contact No</th>
        <th>Email</th>
        <th>VendorCategory</th>
        <th>Action</th>
    </tr>
</thead>
 <tfoot>
 <tr>    <td></td>
        <th>Name</th>
        <th>Contact No</th>
        <th>Email</th>
        <th>VendorCategory</th>
        <th></th>
    </tr>
  </tfoot>
<tbody id="tbodyid">

           
</tbody>

</table>
  </div>
</div>
</div>
<div class="modal" id="myModal">
  <div class="modal-dialog modal-fullscreen">
    <div class="modal-content">

      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title">VendorDetail</h4>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>

      <!-- Modal body -->
      <div class="modal-body">
       
      </div>

      <!-- Modal footer -->
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Close</button>
      </div>

    </div>
  </div>
</div>