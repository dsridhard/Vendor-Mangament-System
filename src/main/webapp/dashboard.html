<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
 <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script> 
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>

<link href="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
<script src="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js"></script>
 <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-multiselect/0.9.13/js/bootstrap-multiselect.js"></script>  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-multiselect/0.9.13/css/bootstrap-multiselect.css">  

<script src="assest/js/commonJs.js"></script>

</head>

<script>
    $(document).ready(() => {
      $('#header').load('header.html')
      $('#main').load('main.html')
      $('#footer').load('footer.html')
    });
  </script>

<script>
$(document).ready(function (e){

	checksession();
var USER_TYPE=sessionStorage.getItem('usertype');
var username=sessionStorage.getItem('username');
//alert(username);

if(USER_TYPE!='' &&USER_TYPE!=null  && USER_TYPE=='DIVISIONAL'){

   var accesstoken=sessionStorage.getItem('key');
   $.ajax( {
			  url: "http://203.176.113.183/VendorAppServices/divisional/userdetails/"+username,
			  method: "GET",
			  timeout: 0,
			  headers: {
			    "Authorization": "Bearer "+accesstoken
			  },
success: function(response){
	console.log(JSON.stringify(response));
	$("#welcomeP").html("Welcome "+username+" Zone: "+response.zoneName+" Division: "+response.divName);
	//fetchCataegoryList();
	
},
error:function(xhr,status){
	if(xhr.status=='401'){

alert("access denied, please refresh the page again");
refreshToken();
		}
	
}

			  
			});

   
	


}



$("#logoutlink").on("click",function(){
	sessionStorage.clear();
	 $(location).attr('href', window.location.pathname.substring(0, window.location.pathname.indexOf("/",2))+'/index.html');	
		
	
});
	

var accesstoken = sessionStorage.getItem('key');

$.ajax( {
	  url: "http://203.176.113.183/VendorAppServices/divisional/vendorcategorylist",
	  method: "GET",
	  timeout: 0,
	  headers: {
	    "Authorization": "Bearer "+accesstoken
	  },
success: function(response){
console.log(JSON.stringify(response));
$('#vendorcategoryInput').empty();
$('#vendorcategoryInput').append($('<option></option>').val("").html("---select---"));

$.each(response, function(i, p) {

$('#vendorcategoryInput').append($('<option></option>').val(p.id).html(p.categoryName));
});	
//$("#welcomeP").html("Welcome "+username+" Zone: "+response.zoneName+" Division: "+response.divName);

},
error:function(xhr,status){
if(xhr.status=='401'){

alert("access denied, please refresh the page again");
refreshToken();
}

}
});



$.ajax( {
	  url: "http://203.176.113.183/VendorAppServices/divisional/vendorconstitutionlist",
	  method: "GET",
	  timeout: 0,
	  headers: {
	    "Authorization": "Bearer "+accesstoken
	  },
success: function(response){
console.log(JSON.stringify(response));
$('#venderconstitutionlist').empty();
$('#venderconstitutionlist').append($('<option></option>').val("").html("---Select---"));

$.each(response, function(i, p) {

$('#venderconstitutionlist').append($('<option></option>').val(p.id).html(p.constitutionName));
});	
//$("#welcomeP").html("Welcome "+username+" Zone: "+response.zoneName+" Division: "+response.divName);

},
error:function(xhr,status){
if(xhr.status=='401'){

alert("access denied, please refresh the page again");
refreshToken();
}

}

});



//http://203.176.113.183/VendorAppServices/divisional/trainlist trainlistapi 


	  $.ajax( {
		  url: "http://203.176.113.183/VendorAppServices/divisional/trainlist",
		  method: "GET",
		  timeout: 0,
		  headers: {
		    "Authorization": "Bearer "+accesstoken
		  },
success: function(response){
console.log(JSON.stringify(response));
$('#trainlistapi').empty();
/* $('#trainlistapi').append($('<option></option>').val("").html("---select---")); */

$.each(response, function(i, p) {

    $('#trainlistapi').append($('<option></option>').val(p.trainNo).html(p.trainNo+" - "+p.trainName));
    $('#trainlistapi').multiselect('rebuild');
});	

//$("#welcomeP").html("Welcome "+username+" Zone: "+response.zoneName+" Division: "+response.divName);

},
error:function(xhr,status){
if(xhr.status=='401'){

alert("access denied, please refresh the page again");
refreshToken();
	}

}

	});
	  
	  $('#trainlistapi').multiselect(
				{
					includeSelectAllOption: true,
					 enableFiltering: true,
			          
				});  	  
	

	
});



</script>


<body id="maindashboard">
 <header id="header"></header>
<div class="ajax-loader" 
style="display:none">
<img src='../images/ajax-loader.gif'  />
<br>Loading..</div> 
<div class="row customheight m-0 h-100"  >
<div class="col-12 p-2 bg-white h-100 no-print"  >
     	

			<h5 class=" font-14 text-center" id="welcomeP"></h5>
			
		<a href="#" id="logoutlink">
<button class="btn btn-sm float-right custombtnnew btn-info " >Logout</button>
</a>


	</div>
	<div class="col-1-5 p-0 h-100 sidebarbg no-print" id="sidebarHTML" style="overflow:auto" >
		

		
		</div>
		<div class="col-10-5 p-0"  style="background-color:white;">
		<!--    header end   -->
		
		<div class="row m-0 "  >
	
</div>
		
		<div class="row m-0 p-2 ml-2 dashboardmainsection custom-height-main-content" style="background-color:#f4f6f9;overflow:auto"  id="dashboardmainsection">
			<form>
                <div class="note">
                   <p> Vendor Registration Form </p>
                </div>
  <div class="form-row">
    <div class="form-group col-md-6">
      <label for="inputnameofvendor">Name of the Vendor</label>
      <input type="text" class="form-control" id="nameofvendor" placeholder="Name of Vendor" required>
    </div>
    
    
     <div class="form-group col-md-6">
      <label for="inputconstitution">Constitution of the Vendor</label>
      <div class="dropdown">
      <select id="venderconstitutionlist" name="venderconstitutionlist" class="form-control">
      </select>
      </div>
    </div>
  </div>
  
   <div class="form-row">
    <div class="form-group col-md-6">
      <label for="inputpanoftheBusiness">Pan of the Business</label>
      <input type="text" class="form-control" id="panoftheBusiness" name="panoftheBusiness" placeholder="" required>
    </div>
    
    
      <div class="form-group col-md-6">
      <label for="inputDetailsofgoods"> Details of Goods</label>
      <input type="text" class="form-control" id="Detailsofgoods" name="Detailsofgoods" placeholder="" required>
    </div>
  </div>
  
  <div class="form-row">
    <div class="form-group col-md-6">
      <label for="inputdetailsofservice">Details of service</label>
      <input type="text" class="form-control" id="detailsofservice" name="detailsofservice" placeholder="" required>
    </div>
    
    
      <div class="form-group col-md-6">
      <label for="inputcategoryofvendor">Category of Vendor </label>
      <select id="vendorcategoryInput" name="vendorcategoryInput" class="form-control" >
      </select>
    </div>
    
    
  </div>


    <div class="form-row">
    <div class="form-group col-md-6">
      <label for="inputtrainlistapi">Train Number</label>
      <select id="trainlistapi" name="trainlistapi" class="form-control"  multiple="multiple">
      </select>
    </div>
    
    <div class="form-group col-md-6">
      
    </div>
  </div>
  
  <div class="form-group">
    <label for="inputAddress">Address</label>
    <input type="text" class="form-control" id="inputAddress"  name="inputAddress" placeholder="please enter address ">
  </div>
 
  
  <div class="form-row">
    <div class="form-group col-md-6">
      <label for="inputcontactno">Latest Contact No.</label>
      <input type="number" class="form-control" id="contactno" name="contactno" required>
    </div>
    <div class="form-group col-md-6">
      <label for="inputfaxno">Latest Fax No.(if any)</label>
      <input type="number" class="form-control" id="faxno" name="faxno" >
    </div>
  </div>
  
   <div class="form-row">
    <div class="form-group col-md-6">
      <label for="inputemailId">Latest email-Id (if any)</label>
      <input type="email" class="form-control" id="inputemailIdCity" name="emailId">
    </div>
    <div class="form-group col-md-6">
      <label for="inputgstinBygov">GSTIN alloted by the Govt</label>
      <input type="text" class="form-control" id="gstinBygov" name="gstinBygov">
    </div>
  </div>
  <div class="form-row">
      <label for="inputupiId">UPI ID</label>
      <input type="text" class="form-control" id="upiId" name="upiId">
   </div>
   
  <div class="form-row">
    <div class="form-group col-md-6">
      <label for="inputbankBranchName">Bank & Branch Name</label>
      <input type="text" class="form-control" id="bankBranchName" name="bankBranchName" required>
    </div>
    <div class="form-group col-md-6">
      <label for="inputbanAaccountNo">Bank Account Number</label>
      <input type="text" class="form-control" id="banAaccountNo" name="banAaccountNo" required>
    </div>
  </div>
  
  
  <div class="form-row">
    <div class="form-group col-md-6">
      <label for="inputifscCodes">IFSC</label>
      <input type="text" class="form-control" id="ifscCode" name="ifscCode" required>
    </div>
    <div class="form-group col-md-6">
      <label for="inputmicrNo">MICR</label>
      <input type="text" class="form-control" id="micrNo" name="micrNo" required>
    </div>
  </div>
  
  
  <div>
        <button class="btn btn-lg btn-primary btn-block" type="button"  onclick="sendData()">Submit</button>
         <a href="signin.html" class="vertify-register">Sign in</a>
 <!--  <button type="submit" class="btn btn-primary">Sign in</button> -->
 </div>
</form>
		</div>
	</div>
	</div>
	

 
  <footer class="footer" id="footer"></footer>
	
</body>
</html>